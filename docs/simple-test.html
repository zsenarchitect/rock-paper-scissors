<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Test - Rock Paper Scissors</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .error { color: red; }
        .success { color: green; }
        .info { color: blue; }
        #output { margin-top: 20px; padding: 10px; border: 1px solid #ccc; }
        canvas { border: 1px solid #ccc; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>Simple Test - Rock Paper Scissors Battle Royale</h1>
    <canvas id="gameCanvas" width="800" height="600"></canvas>
    <div id="output"></div>

    <!-- Load scripts in order -->
    <script src="js/config/game-config.js"></script>
    <script src="js/utils/logger.js"></script>
    <script src="js/utils/storage.js"></script>
    <script src="js/utils/math-utils.js"></script>
    <script src="js/utils/audio-manager.js"></script>
    <script src="js/game/game-engine.js"></script>
    <script src="js/entities/base-entity.js"></script>
    <script src="js/entities/rock-entity.js"></script>
    <script src="js/entities/paper-entity.js"></script>
    <script src="js/entities/scissors-entity.js"></script>
    <script src="js/game/entity-manager.js"></script>
    <script src="js/game/collision-system.js"></script>
    <script src="js/game/physics-engine.js"></script>
    <script src="js/visualization/live-charts.js"></script>
    <script src="js/visualization/pie-chart.js"></script>
    <script src="js/visualization/trend-graph.js"></script>
    <script src="js/voting/voting-system.js"></script>
    <script src="js/rooms/room-manager.js"></script>
    <script src="js/api/battle-api.js"></script>
    <script src="js/cute-cursor.js"></script>
    <script src="js/app.js"></script>

    <script>
        function log(message, type = 'info') {
            const output = document.getElementById('output');
            const div = document.createElement('div');
            div.className = type;
            div.textContent = new Date().toISOString() + ' - ' + message;
            output.appendChild(div);
            console.log(message);
        }

        // Test if the game can start
        function testGameStart() {
            try {
                log('Testing game initialization...', 'info');
                
                // Check if App class is available
                if (typeof App === 'undefined') {
                    log('❌ App class not found', 'error');
                    return;
                }
                
                log('✅ App class found', 'success');
                
                // Try to create app instance
                const app = new App();
                log('✅ App instance created', 'success');
                
                // Try to initialize
                app.initialize().then(() => {
                    log('✅ App initialized successfully', 'success');
                }).catch(error => {
                    log('❌ App initialization failed: ' + error.message, 'error');
                });
                
            } catch (error) {
                log('❌ Game test failed: ' + error.message, 'error');
            }
        }

        // Start test when page loads
        document.addEventListener('DOMContentLoaded', () => {
            log('Simple test page loaded', 'info');
            
            // Wait a bit for all scripts to load
            setTimeout(() => {
                testGameStart();
            }, 1000);
        });

        // Catch any unhandled errors
        window.addEventListener('error', (event) => {
            log('❌ Unhandled error: ' + event.message + ' at ' + event.filename + ':' + event.lineno, 'error');
        });
    </script>
</body>
</html>
